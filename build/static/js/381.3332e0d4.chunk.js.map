{"version":3,"file":"static/js/381.3332e0d4.chunk.js","mappings":"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","sources":["pages/profile/components/info/Main.tsx","pages/profile/components/info/Navbar.tsx","pages/profile/Info.tsx","pages/profile/components/info/ImageWithPlaceholder.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, startTransition } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  useChangeAvatarMutation,\n  useGetUserQuery,\n} from \"../../services/profileApi\";\n\nimport ImageWithPlaceholder from \"./ImageWithPlaceholder\";\nimport { showToast } from \"../../error/ErrorSlice\";\nimport { setAuthModel } from \"../../../../features/login/ModelSlice\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const isLoggedIn = localStorage.getItem(\"authToken\");\n  const parsedLoggedIn = isLoggedIn ? JSON.parse(isLoggedIn) : null;\n  const token = parsedLoggedIn?.data?.access_token;\n\n  const { data: userData, refetch } = useGetUserQuery(undefined);\n  const user = userData?.data;\n  // console.log(user)\n\n  const navigate = useNavigate();\n\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [changeAvatar] = useChangeAvatarMutation();\n\n  const bottomSheetRef = useRef<HTMLDivElement | null>(null);\n\n  // Check if running on iOS\n  // const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n  // // Request camera and file permissions\n  // const requestPermissions = async () => {\n  //   try {\n  //     if (isIOS) {\n  //       // Explicit check for navigator.mediaDevices\n  //       if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n  //         throw new Error(\"Camera or file access is not supported on iOS.\");\n  //       }\n\n  //       // Try accessing camera\n  //       const stream = await navigator.mediaDevices.getUserMedia({\n  //         video: true,\n  //       });\n\n  //       stream.getTracks().forEach((track) => track.stop()); // Close the stream\n  //     } else {\n  //       console.log(\"Permissions are not required on non-iOS devices.\");\n  //     }\n  //   } catch (error) {\n  //     dispatch(\n  //       showToast({\n  //         message: \"无法获取相机或文件权限。\",\n  //         type: \"error\",\n  //       })\n  //     );\n  //   }\n  // };\n\n  const handleSubmit = async (file: any) => {\n    if (!file) {\n      dispatch(\n        showToast({\n          message: \"请选择一张图片。\",\n          type: \"error\",\n        })\n      );\n      return;\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append(\"avatar_file\", file, file.name);\n\n      const response = await changeAvatar(formData).unwrap();\n      const url = response?.data?.url;\n      refetch();\n      dispatch(\n        showToast({\n          message: \"头像更新成功！\",\n          type: \"success\",\n        })\n      );\n\n      closeBottomSheet();\n    } catch (err) {\n      dispatch(\n        showToast({\n          message: (err as any)?.data?.msg || \"更新头像时出错。\",\n          type: \"error\",\n        })\n      );\n    }\n  };\n\n  const handleFileInputChange = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const file = event.target.files ? event.target.files[0] : null;\n    if (file) {\n      handleSubmit(file);\n    }\n    closeBottomSheet();\n  };\n\n  const openBottomSheet = async () => {\n    // await requestPermissions(); // Request permissions before opening bottom sheet\n    setShowBottomSheet(true);\n\n    setTimeout(() => {\n      const overlay = document.querySelector(\".overlay_image\");\n      if (overlay) {\n        overlay.classList.remove(\"hidden\");\n      }\n    }, 0);\n  };\n\n  const closeBottomSheet = () => {\n    const bottomSheet = bottomSheetRef.current;\n    const overlay = document.querySelector(\".overlay_image\");\n\n    if (bottomSheet) {\n      bottomSheet.classList.remove(\"slide-in\");\n      bottomSheet.classList.add(\"slide-out\");\n      overlay?.classList.add(\"hidden\");\n      setShowBottomSheet(false);\n    }\n  };\n\n  const handleInviteClick = () => {\n    if (!token) {\n      startTransition(() => {\n        dispatch(setAuthModel(true));\n      });\n    } else {\n      if (user?.inviter_id !== 0) {\n        dispatch(\n          showToast({\n            message: \"已填写邀请码\",\n            type: \"success\",\n          })\n        );\n      } else {\n        navigate(\"/invite\");\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div\n        onClick={() => closeBottomSheet()}\n        className={`fixed bottom-0 left-0 w-full h-full overlay_image hidden`}\n      ></div>\n      <div className=\"profile-div mt-[60px]\">\n        <div className=\"info-div-main w-full\">\n          <div className=\"info-first cursor-pointer\" onClick={openBottomSheet}>\n            <div className=\"flex gap-1 max-w-[230px] flex-col \">\n              <h1 className=\"info-text\">头像设置</h1>\n            </div>\n            <div>\n              <div className=\"profile-p\">\n                {user?.avatar ? (\n                  <ImageWithPlaceholder\n                    width={58}\n                    height={58}\n                    src={user?.avatar}\n                    alt={user?.username}\n                    className=\"rounded-full\"\n                  />\n                ) : (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"60\"\n                    height=\"60\"\n                    viewBox=\"0 0 60 60\"\n                    fill=\"none\"\n                  >\n                    {/* SVG content */}\n                    <rect\n                      width=\"60\"\n                      height=\"60\"\n                      rx=\"30\"\n                      fill=\"url(#paint0_linear_160_3151)\"\n                    />\n                    <rect\n                      x=\"0.5\"\n                      y=\"0.5\"\n                      width=\"59\"\n                      height=\"59\"\n                      rx=\"29.5\"\n                      stroke=\"white\"\n                      strokeOpacity=\"0.12\"\n                    />\n                    <path\n                      fillRule=\"evenodd\"\n                      clipRule=\"evenodd\"\n                      d=\"M30.0605 7.01392C43.2937 7.01392 53.9873 17.7075 53.9873 31.0744C53.9873 38.1588 50.9129 44.575 46.1008 48.9861C42.8927 31.8764 17.2282 31.8764 14.0202 48.9861C9.07439 44.575 6 38.1588 6 31.0744C6 17.7075 16.6935 7.01392 30.0605 7.01392ZM30.0605 19.0441C34.6052 19.0441 38.348 22.7869 38.348 27.3316C38.348 31.8764 34.6052 35.6191 30.0605 35.6191C25.5157 35.6191 21.773 31.8764 21.773 27.3316C21.773 22.7869 25.5157 19.0441 30.0605 19.0441Z\"\n                      fill=\"white\"\n                      fillOpacity=\"0.8\"\n                    />\n                    <defs>\n                      <linearGradient\n                        id=\"paint0_linear_160_3151\"\n                        x1=\"9.19355\"\n                        y1=\"-1.84958e-06\"\n                        x2=\"73.7512\"\n                        y2=\"26.4991\"\n                        gradientUnits=\"userSpaceOnUse\"\n                      >\n                        <stop stopColor=\"#888888\" stopOpacity=\"0.5\" />\n                        <stop\n                          offset=\"0.373765\"\n                          stopColor=\"#444444\"\n                          stopOpacity=\"0.27\"\n                        />\n                        <stop\n                          offset=\"0.602076\"\n                          stopColor=\"#5D5A5A\"\n                          stopOpacity=\"0.291875\"\n                        />\n                        <stop\n                          offset=\"1\"\n                          stopColor=\"#888080\"\n                          stopOpacity=\"0.33\"\n                        />\n                      </linearGradient>\n                    </defs>\n                  </svg>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"info-main-first mt-3\">\n            <a\n              className=\"cursor-pointer info-first1\"\n              onClick={handleInviteClick}\n            >\n              <div className=\"flex gap-1 max-w-[230px] \">\n                <div className=\"profile-text\">我的推广达人</div>\n              </div>\n              <div className=\"flex gap-1 items-center\">\n                <div className=\"text-[12px] text-[#d0bc94]\">\n                  {token && user?.inviter_id !== 0\n                    ? user?.inviter_id\n                    : \"输入邀请码得积分\"}\n                </div>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </a>\n          </div>\n          <div className=\"info-main-first mt-3\">\n            <Link to={\"/nickname\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] \">\n                <h1 className=\"info-text\">昵称</h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <p className=\"info-main-text\">{user?.nickname}</p>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link>\n\n            <Link to={\"/username\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] flex-col \">\n                <h1 className=\"info-text\">\n                  用户名{\" \"}\n                  <span className=\"text-[#888] text-[12px]\"> (可用来登录)</span>{\" \"}\n                </h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <p className=\"info-main-text\">{user?.username}</p>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link>\n          </div>\n          <div className=\"info-main-first mt-3\">\n            <Link to={\"/update_email\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] flex-col \">\n                <h1 className=\"info-text\">绑定邮箱</h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <p className=\"info-main-text\">\n                  {user?.email ? user?.email : \"未绑定\"}\n                </p>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link>\n            <Link to={\"/update_phone\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] \">\n                <h1 className=\"info-text\">绑定电话号码</h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <p className=\"info-main-text\">\n                  {user?.phone\n                    ? user?.phone !== \"0\"\n                      ? user?.phone\n                      : \"未绑定\"\n                    : \"未绑定\"}\n                </p>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link>\n\n            {/* <Link to={\"/bind\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] flex-col \">\n                <h1 className=\"info-text\">绑定快捷登录 </h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link> */}\n          </div>\n          <div className=\"info-main-first mt-3\">\n            <Link to={\"/update_password\"} className=\"info-first1\">\n              <div className=\"flex gap-1 max-w-[230px] \">\n                <h1 className=\"info-text\">修改密码</h1>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"6\"\n                  height=\"8\"\n                  viewBox=\"0 0 6 8\"\n                  fill=\"none\"\n                >\n                  <path\n                    d=\"M0.778157 0.156564C0.836612 0.106935 0.906056 0.0675604 0.982509 0.0406946C1.05896 0.0138289 1.14092 0 1.2237 0C1.30647 0 1.38843 0.0138289 1.46488 0.0406946C1.54134 0.0675604 1.61078 0.106935 1.66924 0.156564L5.85277 3.69938C5.89944 3.73882 5.93647 3.78567 5.96173 3.83724C5.987 3.88882 6 3.94411 6 3.99994C6 4.05578 5.987 4.11107 5.96173 4.16264C5.93647 4.21422 5.89944 4.26107 5.85277 4.30051L1.66924 7.84332C1.42255 8.05223 1.02484 8.05223 0.778157 7.84332C0.531474 7.63442 0.531474 7.29762 0.778157 7.08872L4.42302 3.99781L0.773123 0.906907C0.531475 0.702268 0.531474 0.361203 0.778157 0.156564Z\"\n                    fill=\"white\"\n                  />\n                </svg>\n              </div>\n            </Link>\n          </div>\n\n          <div\n            className={`bottom-sheet ${\n              showBottomSheet ? \"slide-in\" : \"slide-out\"\n            }`}\n            ref={bottomSheetRef}\n          >\n            <div className=\"bottom-sheet-content\">\n              <div className=\"flex justify-between items-center\">\n                <div></div>\n                <div className=\"w-[50px] h-[4px] bg-white my-3 rounded-[4px]\"></div>\n                <div></div>\n              </div>\n              <button\n                className=\"bottom-sheet-option\"\n                onClick={() => document.getElementById(\"fileInput\")?.click()}\n              >\n                相册选取\n              </button>\n              <button\n                className=\"bottom-sheet-option\"\n                onClick={() => document.getElementById(\"cameraInput\")?.click()}\n              >\n                拍照\n              </button>\n              <button\n                className=\"bottom-sheet-option text-[#717173]\"\n                onClick={closeBottomSheet}\n              >\n                取消\n              </button>\n            </div>\n          </div>\n\n          <input\n            id=\"fileInput\"\n            type=\"file\"\n            accept=\"image/*\"\n            style={{ display: \"none\" }}\n            onChange={handleFileInputChange}\n          />\n          <input\n            id=\"cameraInput\"\n            type=\"file\"\n            accept=\"image/*\"\n            capture=\"environment\"\n            style={{ display: \"none\" }}\n            onChange={handleFileInputChange}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Navbar: React.FC = () => {\n  return (\n    <div className=\"flex fixed top-0 w-full z-10 bg-[#161619] justify-between items-center p-2\">\n      <Link to=\"/profile\" className=\"back-button\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n        >\n          <path\n            d=\"M7.828 11H20V13H7.828L13.192 18.364L11.778 19.778L4 12L11.778 4.22198L13.192 5.63598L7.828 11Z\"\n            fill=\"white\"\n          />\n        </svg>\n      </Link>\n      <div className=\"history-title pr-10\">个人资料</div>\n      <div className=\"edit-title\"></div>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import Main from \"./components/info/Main\";\nimport Navbar from \"./components/info/Navbar\";\nimport \"./profile.css\";\n\nconst Info = () => {\n  return (\n    <div>\n      <div className=\"fixed-bg\"></div>\n      <div className=\"text-white\">\n        <Navbar />\n      </div>\n      <div>\n        <Main />\n      </div>\n    </div>\n  );\n};\n\nexport default Info;\n","import { useEffect, useRef } from \"react\";\nimport cardSkeleton from \"../../../search/images/cardSkeleton.png\";\n\ntype ImageWithPlaceholderProps = {\n  src: any;\n  alt: string;\n  width: string | number;\n  height: string | number;\n  className: string;\n};\n\nconst ImageWithPlaceholder = ({\n  src,\n  alt,\n  width,\n  height,\n  className,\n  ...props\n}: ImageWithPlaceholderProps) => {\n  const imgRef = useRef<HTMLImageElement | null>(null);\n  const containerRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            if (imgRef.current) {\n              imgRef.current.src = src;\n              imgRef.current.onload = () => {\n                if (imgRef.current && imgRef.current !== null) {\n                  imgRef.current.style.opacity = \"1\";\n                }\n              };\n            }\n            observer.disconnect();\n          }\n        });\n      },\n      {\n        rootMargin: \"100px\",\n        threshold: 0.1,\n      }\n    );\n\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n\n    return () => {\n      if (imgRef.current) {\n        observer.unobserve(imgRef.current);\n      }\n    };\n  }, [src]);\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"image-container1\"\n      style={{ width: width, height: height }}\n    >\n      <img\n        ref={imgRef}\n        src={cardSkeleton}\n        alt={alt}\n        style={{ width: width, height: height }}\n        className={`${className} image-placeholder1`}\n        {...props}\n      />\n    </div>\n  );\n};\n\nexport default ImageWithPlaceholder;\n"],"names":["Main","_parsedLoggedIn$data","dispatch","useDispatch","isLoggedIn","localStorage","getItem","parsedLoggedIn","JSON","parse","token","data","access_token","userData","refetch","useGetUserQuery","undefined","user","navigate","useNavigate","showBottomSheet","setShowBottomSheet","useState","changeAvatar","useChangeAvatarMutation","bottomSheetRef","useRef","handleFileInputChange","event","file","target","files","async","_response$data","formData","FormData","append","name","response","unwrap","url","showToast","message","type","closeBottomSheet","err","_data","msg","handleSubmit","bottomSheet","current","overlay","document","querySelector","classList","remove","add","_jsxs","children","_jsx","onClick","className","setTimeout","avatar","ImageWithPlaceholder","width","height","src","alt","username","xmlns","viewBox","fill","rx","x","y","stroke","strokeOpacity","fillRule","clipRule","d","fillOpacity","id","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","offset","handleInviteClick","inviter_id","startTransition","setAuthModel","Link","to","nickname","email","phone","ref","_document$getElementB","getElementById","click","_document$getElementB2","accept","style","display","onChange","capture","Navbar","Info","_ref","props","imgRef","containerRef","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","onload","opacity","disconnect","rootMargin","threshold","observe","unobserve","cardSkeleton"],"sourceRoot":""}